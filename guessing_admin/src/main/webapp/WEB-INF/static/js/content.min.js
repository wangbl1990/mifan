function $childNode(o) {
  return window.frames[o]
}
function animationHover(o, e) {
  o = $(o), o.hover(function () {
    o.addClass("animated " + e)
  }, function () {
    window.setTimeout(function () {
      o.removeClass("animated " + e)
    }, 2e3)
  })
}
function WinMove() {
  var o = "[class*=col]", e = ".ibox-title", i = "[class*=col]";
  $(o).sortable({
    handle: e,
    connectWith: i,
    tolerance: "pointer",
    forcePlaceholderSize: !0,
    opacity: .8
  }).disableSelection()
}
var $parentNode = window.parent.document;
if ($(".tooltip-demo").tooltip({
    selector: "[data-toggle=tooltip]",
    container: "body"
  }), $(".modal").appendTo("body"), $("[data-toggle=popover]").popover(), $(".collapse-link").click(function () {
    var o = $(this).closest("div.ibox"), e = $(this).find("i"), i = o.find("div.ibox-content");
    i.slideToggle(200), e.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"), o.toggleClass("").toggleClass("border-bottom"), setTimeout(function () {
      o.resize(), o.find("[id^=map-]").resize()
    }, 50)
  }), $(".close-link").click(function () {
    var o = $(this).closest("div.ibox");
    o.remove()
  }), top == this) {
  var gohome = '<div class="gohome"><a class="animated bounceInUp" href="../index.html" title="返回首页"><i class="fa fa-home"></i></a></div>';
  $("body").append(gohome)
}

/**
 * 设置AJAX请求遇到Session过期时处理动作
 */
$.ajaxSetup({
	beforeSend: function (xhr, status) {
        xhr.setRequestHeader("tokenId", "1111");
    },
    complete: function(xhr,status) {
        var sessionStatus = xhr.getResponseHeader('sessionStatus');
        if(sessionStatus == 'timeout') {
            var top = getTopWinow();
//            var yes = confirm('由于您长时间没有操作, session已过期, 请重新登录');
//            if (yes) {
                top.location.href = '/login.html';    
//              window.location.href = "/login.html";
                return false;        
//            }
        }
    }
});

/**
 * 在页面中任何嵌套层次的窗口中获取顶层窗口
 * @return 当前页面的顶层窗口对象
 */
function getTopWinow(){
    var p = window;
    while(p != p.parent){
        p = p.parent;
    }
    return p;
}


function replaceFun(e){
	 e.find("td").each(function(){
     	var tdTxt = $(this).html();
     	if(tdTxt == "null"){
     		$(this).text("——");
     	}
     	if($(this).find("a").length > 0){
     		tdTxt = $(this).find("a").html();
         	if(tdTxt == "null"){
         		$(this).find("a").text("——");
         	}
     	}
     });
}


/**
 * 千分位格式化金额数字的方法
 */
function fmoney(s, n)   
{   
   n = n > 0 && n <= 20 ? n : 2;   
   s = parseFloat((s + "").replace(/[^\d\.-]/g, "")).toFixed(n) + "";   
   var l = s.split(".")[0].split("").reverse(),   
   r = s.split(".")[1];   
   t = "";   
   for(i = 0; i < l.length; i ++ )   
   {   
      t += l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? "," : "");   
   }   
   return t.split("").reverse().join("") + "." + r;   
}


/**
 * 还原金额,去除逗号
 */
function rmoney(s){   
	return parseFloat(s.replace(/[^\d\.-]/g, ""));   
}


//微信分享缩略图不超过10K
var imageUploadThumbSize = 10;
var imageUploadNoticeMsg = "请上传小于10K的缩略图";

//图片路径

var domainUrl;
//var domainUrl = "http://localhost:8002/";
//https://test-mkt.jajaying.com/package_tpl/exp/pic1.jpg
//var domainUrl = "https://static.jajaying.com";
var pic = "/images";
var html = "/html";  
var excel = "/excel";
var loanOrigin = "/loan/origin";
var loanCompress = "/loan/compress";
var crowdImages = "/crowd/images";


//2017-03-08添加
//发布号
var postNum = 2;  //0 本地  1 测试  2 准生产  3 生产
var postNum = 1;  //0 本地  1 测试  2 准生产  3 生产
//商品订单列表url
var goodsOrderUrl;
//mkt域名
var mktUrl;
if (postNum == "0") { //本地
  mktUrl = "http://192.168.10.186/";
  domainUrl = "https://dev-static.jajaying.com";
  mktUrl = "http://localhost:8002/";
  domainUrl = "http://localhost:8002/";
//  goodsOrderUrl = "http://localhost:8206/";
} else if (postNum == "1") { //测试
  mktUrl = "https://test-mkt.jajaying.com/";
  domainUrl = "https://test2-static.jajaying.com";
//  goodsOrderUrl = "http://test-boss.mall.jajaying.com/";
} else if (postNum == "2") { //开发
  mktUrl = "http://sit-mkt.jajaying.com/";
  domainUrl = "https://sit-static.jajaying.com";
//  goodsOrderUrl = "http://dev-boss.mall.jajaying.com/";
} else if (postNum == "3") { //生产
  mktUrl = "https://mkt.jajaying.com/";
  domainUrl = "https://static.jajaying.com";
//  goodsOrderUrl = "http://boss.mall.jajaying.com/";
} else if (postNum == "4") { //测试2
  mktUrl = "https://autotest-mkt.jajaying.com/";
  domainUrl = "https://dev-static.jajaying.com";
//  goodsOrderUrl = "http://test-boss.mall.jajaying.com/";
}